"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[7943],{28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>c});var t=i(96540);const s={},r=t.createContext(s);function d(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(r.Provider,{value:n},e.children)}},64648:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"api-specification/Frontend","title":"Frontend API","description":"AudioTranscription.tsx","source":"@site/docs/api-specification/Frontend.md","sourceDirName":"api-specification","slug":"/api-specification/Frontend","permalink":"/project-002-highlighting/docs/api-specification/Frontend","draft":false,"unlisted":false,"editUrl":"https://github.com/Capstone-Projects-2025-Fall/project-002-highlighting/edit/main/documentation/docs/api-specification/Frontend.md","tags":[],"version":"current","lastUpdatedBy":"JudeP2","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Backend API","permalink":"/project-002-highlighting/docs/api-specification/BackendAPI"},"next":{"title":"Test Procedures","permalink":"/project-002-highlighting/docs/category/test-procedures"}}');var s=i(74848),r=i(28453);const d={},c="Frontend API",o={},l=[{value:"AudioTranscription.tsx",id:"audiotranscriptiontsx",level:2},{value:"Dependencies - Socket.io",id:"dependencies---socketio",level:2},{value:"Component Structure",id:"component-structure",level:2},{value:"Main State &amp; Refs",id:"main-state--refs",level:3},{value:"Main Functions &amp; Their Roles",id:"main-functions--their-roles",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"frontend-api",children:"Frontend API"})}),"\n",(0,s.jsx)(n.h2,{id:"audiotranscriptiontsx",children:"AudioTranscription.tsx"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"AudioTranscription.tsx"})," file implements a ",(0,s.jsx)(n.strong,{children:"React component"})," for real-time audio transcription and tile prediction, using the browser's microphone, the ",(0,s.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder",children:"MediaRecorder API"}),", and a backend via ",(0,s.jsx)(n.a,{href:"https://socket.io/",children:"Socket.io"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"This component is ideal for applications that require speech-to-text capabilities with intelligent suggestions (tiles) based on both spoken words and tile interactions\u2014such as communication boards or accessible UIs for AAC (Augmentative and Alternative Communication)."}),"\n",(0,s.jsx)(n.h2,{id:"dependencies---socketio",children:"Dependencies - Socket.io"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"socket.io-client"})," for WebSocket communication."]}),"\n",(0,s.jsxs)(n.li,{children:["Several state/context providers (e.g., ",(0,s.jsx)(n.code,{children:"useTranscript"}),", ",(0,s.jsx)(n.code,{children:"usePredictedTiles"}),", ",(0,s.jsx)(n.code,{children:"useUtteredTiles"}),", ",(0,s.jsx)(n.code,{children:"useRecordingControl"}),")\u2014assumed to be from the app's custom state management system."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," Sends audio chunks to the backend, receives live transcription."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Client emits:"})," ",(0,s.jsx)(n.code,{children:"audio-chunk"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Server emits:"})," ",(0,s.jsx)(n.code,{children:"transcript"})," (with transcribed text)"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"No REST endpoint, handled via Socket.io events."})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example flow:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Client emits: ",(0,s.jsx)(n.code,{children:"audio-chunk"})," (binary)"]}),"\n",(0,s.jsxs)(n.li,{children:["Server responds: ",(0,s.jsx)(n.code,{children:"transcript"})," (string)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"component-structure",children:"Component Structure"}),"\n",(0,s.jsx)(n.h3,{id:"main-state--refs",children:"Main State & Refs"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Name"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Purpose"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"record"}),(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"If recording is active"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"transcript"}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"Current transcript text"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"audioURL"}),(0,s.jsx)(n.td,{children:"string | null"}),(0,s.jsx)(n.td,{children:"Recorded audio file URL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"audioProgress"}),(0,s.jsx)(n.td,{children:"number"}),(0,s.jsx)(n.td,{children:"Audio playback progress (0\u2013100%)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"isPlaying"}),(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"If audio is currently playing"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"predictedTiles"}),(0,s.jsx)(n.td,{children:"string[]"}),(0,s.jsx)(n.td,{children:"Tile suggestions from backend"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"utteredTiles"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Array<{ text: string }>"})}),(0,s.jsx)(n.td,{children:'Tiles "pressed" by the user'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"isActive"}),(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"If recording/session is enabled"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"isPredicting"}),(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"If a prediction request is in progress"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"..."}),(0,s.jsx)(n.td,{children:"..."}),(0,s.jsx)(n.td,{children:"Various refs for timers, intervals, handlers"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"main-functions--their-roles",children:"Main Functions & Their Roles"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Purpose"}),(0,s.jsx)(n.th,{children:"Usage Context"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"startRecording()"})}),(0,s.jsx)(n.td,{children:"Starts MediaRecorder, sets up listeners, and begins sending audio to server"}),(0,s.jsx)(n.td,{children:"On start/auto-start"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"stopRecording()"})}),(0,s.jsx)(n.td,{children:"Stops MediaRecorder, removes listeners, clears transcript & predictions"}),(0,s.jsx)(n.td,{children:"On stop or inactive"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"predictNextTiles()"})}),(0,s.jsxs)(n.td,{children:["Calls ",(0,s.jsx)(n.code,{children:"/api/nextTilePred"})," to get suggestions based on transcript/tiles"]}),(0,s.jsx)(n.td,{children:"On interval, tile click"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"setupPeriodicPredictionInterval()"})}),(0,s.jsx)(n.td,{children:"Sets up 15s interval for automatic prediction calls"}),(0,s.jsx)(n.td,{children:"On recording"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"togglePlayback()"})}),(0,s.jsx)(n.td,{children:"Plays or pauses recorded audio"}),(0,s.jsx)(n.td,{children:"On play/pause button"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"handleTimeUpdate()"})}),(0,s.jsx)(n.td,{children:"Updates progress bar as audio plays"}),(0,s.jsx)(n.td,{children:"On audio playback"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);